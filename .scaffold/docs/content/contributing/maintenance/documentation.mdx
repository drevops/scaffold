# Authoring documentation

There are 2 types of the documentation that DrevOps provides:

1. This Documentation of DrevOps that is then deployed
   to https://docs.drevops.com/
2. Consumer site documentation that is distributed when DrevOps is installed.

## docs.drevops.com

The Documentation (this site) is written in Markdown and located in
[`.scaffold/docs`](https://github.com/drevops/scaffold/blob/develop/.scaffold/docs) directory. This is
removed when you install DrevOps for a
consumer site.

### Local build

```bash
cd .scaffold/docs
ahoy build
```

Parts of the documentation is generated automatically from the codebase.
To update it, run:

```bash
composer -d .scaffold/docs/.utils install
cd .scaffold/docs
ahoy update
```

If you have the documentation site running locally, the updates will be seen
immediately.

### Check spelling and links

```bash
cd .scaffold/docs
ahoy test
```

If required, add spelling exclusions to `.scaffold/docs/cspell.json`
file.

### Publishing

An automated CI build publishes this documentation.

- on tag, publishes to https://docs.drevops.com/
- on every commit to a branch that contains `release-docs` string publishes to https://docs.drevops.com/
- on every push to `develop`, publishes to development version of documentation https://drevops-scaffold-docs.netlify.app
- on every push or tag, publishes to the temporary version of documentation with a link added to the PR as a comment.

## Consumer site documentation

DrevOps provides a scaffold of the consumer site documentation in the
[`docs`](https://github.com/drevops/scaffold/blob/develop/docs) directory.

After DrevOps is installed into the consumer site, these docs are intended to
be used by the site maintainers and stay up-to-date with the project changes.

See [Documentation](../../workflows/documentation.mdx) section.
